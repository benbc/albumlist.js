<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE html 
     PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
     "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <title>Module: Commander::UI</title>
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" />
  <meta http-equiv="Content-Script-Type" content="text/javascript" />
  <link rel="stylesheet" href="../.././rdoc-style.css" type="text/css" media="screen" />
  <script type="text/javascript">
  // <![CDATA[

  function popupCode( url ) {
    window.open(url, "Code", "resizable=yes,scrollbars=yes,toolbar=no,status=no,height=150,width=400")
  }

  function toggleCode( id ) {
    if ( document.getElementById )
      elem = document.getElementById( id );
    else if ( document.all )
      elem = eval( "document.all." + id );
    else
      return false;

    elemStyle = elem.style;
    
    if ( elemStyle.display != "block" ) {
      elemStyle.display = "block"
    } else {
      elemStyle.display = "none"
    }

    return true;
  }
  
  // Make codeblocks hidden by default
  document.writeln( "<style type=\"text/css\">div.method-source-code { display: none }</style>" )
  
  // ]]>
  </script>

</head>
<body>



    <div id="classHeader">
        <table class="header-table">
        <tr class="top-aligned-row">
          <td><strong>Module</strong></td>
          <td class="class-name-in-header">Commander::UI</td>
        </tr>
        <tr class="top-aligned-row">
            <td><strong>In:</strong></td>
            <td>
                <a href="../../files/lib/commander/user_interaction_rb.html">
                lib/commander/user_interaction.rb
                </a>
        <br />
                <a href="../../files/lib/commander/user_interaction_rb.html">
                lib/commander/user_interaction.rb
                </a>
        <br />
            </td>
        </tr>

        </table>
    </div>
  <!-- banner header -->

  <div id="bodyContent">



  <div id="contextContent">

    <div id="description">
      <h1>User Interaction</h1>
<p>
<a href="../Commander.html">Commander</a>&#8216;s user interaction module
mixes in common methods which extend HighLine&#8216;s functionality such as
a <a href="UI.html#M000305">password</a> method rather than calling ask
directly.
</p>

    </div>


   </div>

    <div id="method-list">
      <h3 class="section-bar">Methods</h3>

      <div class="name-list">
      <a href="#M000321">applescript</a>&nbsp;&nbsp;
      <a href="#M000310">applescript</a>&nbsp;&nbsp;
      <a href="#M000313">ask_editor</a>&nbsp;&nbsp;
      <a href="#M000324">ask_editor</a>&nbsp;&nbsp;
      <a href="#M000306">choose</a>&nbsp;&nbsp;
      <a href="#M000317">choose</a>&nbsp;&nbsp;
      <a href="#M000309">converse</a>&nbsp;&nbsp;
      <a href="#M000320">converse</a>&nbsp;&nbsp;
      <a href="#M000325">enable_paging</a>&nbsp;&nbsp;
      <a href="#M000314">enable_paging</a>&nbsp;&nbsp;
      <a href="#M000322">io</a>&nbsp;&nbsp;
      <a href="#M000311">io</a>&nbsp;&nbsp;
      <a href="#M000307">log</a>&nbsp;&nbsp;
      <a href="#M000318">log</a>&nbsp;&nbsp;
      <a href="#M000305">password</a>&nbsp;&nbsp;
      <a href="#M000316">password</a>&nbsp;&nbsp;
      <a href="#M000326">progress</a>&nbsp;&nbsp;
      <a href="#M000315">progress</a>&nbsp;&nbsp;
      <a href="#M000323">reset_io</a>&nbsp;&nbsp;
      <a href="#M000312">reset_io</a>&nbsp;&nbsp;
      <a href="#M000308">speak</a>&nbsp;&nbsp;
      <a href="#M000319">speak</a>&nbsp;&nbsp;
      </div>
    </div>

  </div>


    <!-- if includes -->
    <div id="includes">
      <h3 class="section-bar">Included Modules</h3>

      <div id="includes-list">
        <span class="include-name">Growl</span>
        <span class="include-name">Growl</span>
      </div>
    </div>

    <div id="section">

    <div id="class-list">
      <h3 class="section-bar">Classes and Modules</h3>

      Module <a href="UI/AskForClass.html" class="link">Commander::UI::AskForClass</a><br />
Class <a href="UI/ProgressBar.html" class="link">Commander::UI::ProgressBar</a><br />

    </div>




      


    <!-- if method_list -->
    <div id="methods">
      <h3 class="section-bar">Public Instance methods</h3>

      <div id="method-M000321" class="method-detail">
        <a name="M000321"></a>

        <div class="method-heading">
          <a href="#M000321" class="method-signature">
          <span class="method-name">applescript</span><span class="method-args">(script)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Execute apple <em>script</em>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000321-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000321-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 123</span>
123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applescript</span> <span class="ruby-identifier">script</span>
124:       <span class="ruby-node">`osascript -e &quot;#{ script.gsub('&quot;', '\&quot;') }&quot;`</span>
125:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000310" class="method-detail">
        <a name="M000310"></a>

        <div class="method-heading">
          <a href="#M000310" class="method-signature">
          <span class="method-name">applescript</span><span class="method-args">(script)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Execute apple <em>script</em>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000310-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000310-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 123</span>
123:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">applescript</span> <span class="ruby-identifier">script</span>
124:       <span class="ruby-node">`osascript -e &quot;#{ script.gsub('&quot;', '\&quot;') }&quot;`</span>
125:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000313" class="method-detail">
        <a name="M000313"></a>

        <div class="method-heading">
          <a href="#M000313" class="method-signature">
          <span class="method-name">ask_editor</span><span class="method-args">(input = nil, editor = ENV['EDITOR'] || 'mate')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Prompt <em>editor</em> for input. Optionally supply initial <em>input</em>
which is written to the editor.
</p>
<p>
The <em>editor</em> defaults to the EDITOR environment variable when
present, or &#8216;mate&#8217; for TextMate.
</p>
<h3>Examples</h3>
<pre>
  ask_editor                # =&gt; prompts EDITOR with no input
  ask_editor('foo')         # =&gt; prompts EDITOR with default text of 'foo'
  ask_editor('foo', :mate)  # =&gt; prompts TextMate with default text of 'foo'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000313-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000313-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 182</span>
182:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_editor</span> <span class="ruby-identifier">input</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">editor</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'EDITOR'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'mate'</span>
183:       <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>(<span class="ruby-identifier">editor</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value str">'w+'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pipe</span><span class="ruby-operator">|</span>
184:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">nil?</span>
185:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">close_write</span>
186:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">read</span>
187:       <span class="ruby-keyword kw">end</span>
188:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000324" class="method-detail">
        <a name="M000324"></a>

        <div class="method-heading">
          <a href="#M000324" class="method-signature">
          <span class="method-name">ask_editor</span><span class="method-args">(input = nil, editor = ENV['EDITOR'] || 'mate')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Prompt <em>editor</em> for input. Optionally supply initial <em>input</em>
which is written to the editor.
</p>
<p>
The <em>editor</em> defaults to the EDITOR environment variable when
present, or &#8216;mate&#8217; for TextMate.
</p>
<h3>Examples</h3>
<pre>
  ask_editor                # =&gt; prompts EDITOR with no input
  ask_editor('foo')         # =&gt; prompts EDITOR with default text of 'foo'
  ask_editor('foo', :mate)  # =&gt; prompts TextMate with default text of 'foo'
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000324-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000324-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 182</span>
182:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">ask_editor</span> <span class="ruby-identifier">input</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">editor</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'EDITOR'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'mate'</span>
183:       <span class="ruby-constant">IO</span>.<span class="ruby-identifier">popen</span>(<span class="ruby-identifier">editor</span>.<span class="ruby-identifier">to_s</span>, <span class="ruby-value str">'w+'</span>) <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">pipe</span><span class="ruby-operator">|</span>
184:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">puts</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">to_s</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">input</span>.<span class="ruby-identifier">nil?</span>
185:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">close_write</span>
186:         <span class="ruby-identifier">pipe</span>.<span class="ruby-identifier">read</span>
187:       <span class="ruby-keyword kw">end</span>
188:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000306" class="method-detail">
        <a name="M000306"></a>

        <div class="method-heading">
          <a href="#M000306" class="method-signature">
          <span class="method-name">choose</span><span class="method-args">(message, *choices)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Choose from a set array of <em>choices</em>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000306-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000306-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">choose</span> <span class="ruby-identifier">message</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">choices</span>
42:       <span class="ruby-identifier">say</span> <span class="ruby-identifier">message</span>
43:       <span class="ruby-keyword kw">super</span> <span class="ruby-operator">*</span><span class="ruby-identifier">choices</span>
44:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000317" class="method-detail">
        <a name="M000317"></a>

        <div class="method-heading">
          <a href="#M000317" class="method-signature">
          <span class="method-name">choose</span><span class="method-args">(message, *choices)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Choose from a set array of <em>choices</em>.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000317-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000317-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 41</span>
41:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">choose</span> <span class="ruby-identifier">message</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">choices</span>
42:       <span class="ruby-identifier">say</span> <span class="ruby-identifier">message</span>
43:       <span class="ruby-keyword kw">super</span> <span class="ruby-operator">*</span><span class="ruby-identifier">choices</span>
44:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000309" class="method-detail">
        <a name="M000309"></a>

        <div class="method-heading">
          <a href="#M000309" class="method-signature">
          <span class="method-name">converse</span><span class="method-args">(prompt, responses = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converse with speech recognition.
</p>
<p>
Currently a &quot;poorman&#8216;s&quot; DSL to utilize <a
href="UI.html#M000310">applescript</a> and the MacOS speech recognition
server.
</p>
<h3>Examples</h3>
<pre>
  case converse 'What is the best food?', :cookies =&gt; 'Cookies', :unknown =&gt; 'Nothing'
  when :cookies
    speak 'o.m.g. you are awesome!'
  else
    case converse 'That is lame, shall I convince you cookies are the best?', :yes =&gt; 'Ok', :no =&gt; 'No', :maybe =&gt; 'Maybe another time'
    when :yes
      speak 'Well you see, cookies are just fantastic.'
    else
      speak 'Ok then, bye.'
    end
  end
</pre>
<h3>Notes</h3>
<ul>
<li>MacOS only

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000309-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000309-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">converse</span> <span class="ruby-identifier">prompt</span>, <span class="ruby-identifier">responses</span> = {}
104:       <span class="ruby-identifier">i</span>, <span class="ruby-identifier">commands</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">responses</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">inspect</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">','</span>)
105:       <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">responses</span>.<span class="ruby-identifier">inject</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">statement</span>, (<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)<span class="ruby-operator">|</span>
106:         <span class="ruby-identifier">statement</span> <span class="ruby-operator">&lt;&lt;</span> (((<span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> 
107:           <span class="ruby-node">%(if response is &quot;#{value}&quot; then\n)</span><span class="ruby-operator">:</span>
108:             <span class="ruby-node">%(else if response is &quot;#{value}&quot; then\n)</span>)) <span class="ruby-operator">&lt;&lt;</span>
109:               <span class="ruby-node">%(do shell script &quot;echo '#{key}'&quot;\n)</span>
110:       <span class="ruby-keyword kw">end</span>
111:       <span class="ruby-identifier">applescript</span>(<span class="ruby-node">%(
112:         tell application &quot;SpeechRecognitionServer&quot; 
113:           set response to listen for {#{commands}} with prompt &quot;#{prompt}&quot;
114:           #{statement}
115:           end if
116:         end tell
117:       )</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">to_sym</span>
118:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000320" class="method-detail">
        <a name="M000320"></a>

        <div class="method-heading">
          <a href="#M000320" class="method-signature">
          <span class="method-name">converse</span><span class="method-args">(prompt, responses = {})</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Converse with speech recognition.
</p>
<p>
Currently a &quot;poorman&#8216;s&quot; DSL to utilize <a
href="UI.html#M000310">applescript</a> and the MacOS speech recognition
server.
</p>
<h3>Examples</h3>
<pre>
  case converse 'What is the best food?', :cookies =&gt; 'Cookies', :unknown =&gt; 'Nothing'
  when :cookies
    speak 'o.m.g. you are awesome!'
  else
    case converse 'That is lame, shall I convince you cookies are the best?', :yes =&gt; 'Ok', :no =&gt; 'No', :maybe =&gt; 'Maybe another time'
    when :yes
      speak 'Well you see, cookies are just fantastic.'
    else
      speak 'Ok then, bye.'
    end
  end
</pre>
<h3>Notes</h3>
<ul>
<li>MacOS only

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000320-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000320-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 103</span>
103:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">converse</span> <span class="ruby-identifier">prompt</span>, <span class="ruby-identifier">responses</span> = {}
104:       <span class="ruby-identifier">i</span>, <span class="ruby-identifier">commands</span> = <span class="ruby-value">0</span>, <span class="ruby-identifier">responses</span>.<span class="ruby-identifier">map</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span><span class="ruby-operator">|</span> <span class="ruby-identifier">value</span>.<span class="ruby-identifier">inspect</span> }.<span class="ruby-identifier">join</span>(<span class="ruby-value str">','</span>)
105:       <span class="ruby-identifier">statement</span> = <span class="ruby-identifier">responses</span>.<span class="ruby-identifier">inject</span> <span class="ruby-value str">''</span> <span class="ruby-keyword kw">do</span> <span class="ruby-operator">|</span><span class="ruby-identifier">statement</span>, (<span class="ruby-identifier">key</span>, <span class="ruby-identifier">value</span>)<span class="ruby-operator">|</span>
106:         <span class="ruby-identifier">statement</span> <span class="ruby-operator">&lt;&lt;</span> (((<span class="ruby-identifier">i</span> <span class="ruby-operator">+=</span> <span class="ruby-value">1</span>) <span class="ruby-operator">==</span> <span class="ruby-value">1</span> <span class="ruby-operator">?</span> 
107:           <span class="ruby-node">%(if response is &quot;#{value}&quot; then\n)</span><span class="ruby-operator">:</span>
108:             <span class="ruby-node">%(else if response is &quot;#{value}&quot; then\n)</span>)) <span class="ruby-operator">&lt;&lt;</span>
109:               <span class="ruby-node">%(do shell script &quot;echo '#{key}'&quot;\n)</span>
110:       <span class="ruby-keyword kw">end</span>
111:       <span class="ruby-identifier">applescript</span>(<span class="ruby-node">%(
112:         tell application &quot;SpeechRecognitionServer&quot; 
113:           set response to listen for {#{commands}} with prompt &quot;#{prompt}&quot;
114:           #{statement}
115:           end if
116:         end tell
117:       )</span>).<span class="ruby-identifier">strip</span>.<span class="ruby-identifier">to_sym</span>
118:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000325" class="method-detail">
        <a name="M000325"></a>

        <div class="method-heading">
          <a href="#M000325" class="method-signature">
          <span class="method-name">enable_paging</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Enable paging of output after called.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000325-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000325-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 193</span>
193:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enable_paging</span>
194:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
195:       <span class="ruby-identifier">read</span>, <span class="ruby-identifier">write</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">pipe</span>
196: 
197:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">fork</span>
198:         <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">read</span>
199:         <span class="ruby-identifier">read</span>.<span class="ruby-identifier">close</span>; <span class="ruby-identifier">write</span>.<span class="ruby-identifier">close</span>
200:         <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">select</span> [<span class="ruby-identifier">$stdin</span>]
201:         <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'LESS'</span>] = <span class="ruby-value str">'FSRX'</span>
202:         <span class="ruby-identifier">pager</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PAGER'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'less'</span>
203:         <span class="ruby-identifier">exec</span> <span class="ruby-identifier">pager</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">exec</span> <span class="ruby-value str">'/bin/sh'</span>, <span class="ruby-value str">'-c'</span>, <span class="ruby-identifier">pager</span>
204:       <span class="ruby-keyword kw">else</span>
205:         <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">write</span>
206:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">write</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">tty?</span>
207:         <span class="ruby-identifier">read</span>.<span class="ruby-identifier">close</span>; <span class="ruby-identifier">write</span>.<span class="ruby-identifier">close</span>
208:         <span class="ruby-keyword kw">return</span>
209:       <span class="ruby-keyword kw">end</span>
210:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000314" class="method-detail">
        <a name="M000314"></a>

        <div class="method-heading">
          <a href="#M000314" class="method-signature">
          <span class="method-name">enable_paging</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Enable paging of output after called.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000314-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000314-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 193</span>
193:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">enable_paging</span>
194:       <span class="ruby-keyword kw">return</span> <span class="ruby-keyword kw">unless</span> <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">tty?</span>
195:       <span class="ruby-identifier">read</span>, <span class="ruby-identifier">write</span> = <span class="ruby-constant">IO</span>.<span class="ruby-identifier">pipe</span>
196: 
197:       <span class="ruby-keyword kw">if</span> <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">fork</span>
198:         <span class="ruby-identifier">$stdin</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">read</span>
199:         <span class="ruby-identifier">read</span>.<span class="ruby-identifier">close</span>; <span class="ruby-identifier">write</span>.<span class="ruby-identifier">close</span>
200:         <span class="ruby-constant">Kernel</span>.<span class="ruby-identifier">select</span> [<span class="ruby-identifier">$stdin</span>]
201:         <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'LESS'</span>] = <span class="ruby-value str">'FSRX'</span>
202:         <span class="ruby-identifier">pager</span> = <span class="ruby-constant">ENV</span>[<span class="ruby-value str">'PAGER'</span>] <span class="ruby-operator">||</span> <span class="ruby-value str">'less'</span>
203:         <span class="ruby-identifier">exec</span> <span class="ruby-identifier">pager</span> <span class="ruby-keyword kw">rescue</span> <span class="ruby-identifier">exec</span> <span class="ruby-value str">'/bin/sh'</span>, <span class="ruby-value str">'-c'</span>, <span class="ruby-identifier">pager</span>
204:       <span class="ruby-keyword kw">else</span>
205:         <span class="ruby-identifier">$stdout</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">write</span>
206:         <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">reopen</span> <span class="ruby-identifier">write</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">$stderr</span>.<span class="ruby-identifier">tty?</span>
207:         <span class="ruby-identifier">read</span>.<span class="ruby-identifier">close</span>; <span class="ruby-identifier">write</span>.<span class="ruby-identifier">close</span>
208:         <span class="ruby-keyword kw">return</span>
209:       <span class="ruby-keyword kw">end</span>
210:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000322" class="method-detail">
        <a name="M000322"></a>

        <div class="method-heading">
          <a href="#M000322" class="method-signature">
          <span class="method-name">io</span><span class="method-args">(input = nil, output = nil) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Normalize IO streams, allowing for redirection of <tt>input</tt> and/or
<tt>output</tt>, for example:
</p>
<pre>
  $ foo              # =&gt; read from terminal I/O
  $ foo in           # =&gt; read from 'in' file, output to terminal output stream
  $ foo in out       # =&gt; read from 'in' file, output to 'out' file
  $ foo &lt; in &gt; out   # =&gt; equivalent to above (essentially)
</pre>
<p>
Optionally a <tt>block</tt> may be supplied, in which case IO will be reset
once the block has executed.
</p>
<h3>Examples</h3>
<pre>
  command :foo do |c|
    c.syntax = 'foo [input] [output]'
    c.when_called do |args, options|
      # or io(args.shift, args.shift)
      io *args
      str = $stdin.gets
      puts 'input was: ' + str.inspect
    end
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000322-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000322-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 152</span>
152:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">io</span> <span class="ruby-identifier">input</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">output</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
153:       <span class="ruby-identifier">$stdin</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>
154:       <span class="ruby-identifier">$stdout</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">output</span>, <span class="ruby-value str">'r+'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">output</span>
155:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
156:         <span class="ruby-keyword kw">yield</span>
157:         <span class="ruby-identifier">reset_io</span>
158:       <span class="ruby-keyword kw">end</span>
159:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000311" class="method-detail">
        <a name="M000311"></a>

        <div class="method-heading">
          <a href="#M000311" class="method-signature">
          <span class="method-name">io</span><span class="method-args">(input = nil, output = nil) {|| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Normalize IO streams, allowing for redirection of <tt>input</tt> and/or
<tt>output</tt>, for example:
</p>
<pre>
  $ foo              # =&gt; read from terminal I/O
  $ foo in           # =&gt; read from 'in' file, output to terminal output stream
  $ foo in out       # =&gt; read from 'in' file, output to 'out' file
  $ foo &lt; in &gt; out   # =&gt; equivalent to above (essentially)
</pre>
<p>
Optionally a <tt>block</tt> may be supplied, in which case IO will be reset
once the block has executed.
</p>
<h3>Examples</h3>
<pre>
  command :foo do |c|
    c.syntax = 'foo [input] [output]'
    c.when_called do |args, options|
      # or io(args.shift, args.shift)
      io *args
      str = $stdin.gets
      puts 'input was: ' + str.inspect
    end
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000311-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000311-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 152</span>
152:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">io</span> <span class="ruby-identifier">input</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-identifier">output</span> = <span class="ruby-keyword kw">nil</span>, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
153:       <span class="ruby-identifier">$stdin</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">input</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">input</span>
154:       <span class="ruby-identifier">$stdout</span> = <span class="ruby-constant">File</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">output</span>, <span class="ruby-value str">'r+'</span>) <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">output</span>
155:       <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">block</span>
156:         <span class="ruby-keyword kw">yield</span>
157:         <span class="ruby-identifier">reset_io</span>
158:       <span class="ruby-keyword kw">end</span>
159:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000307" class="method-detail">
        <a name="M000307"></a>

        <div class="method-heading">
          <a href="#M000307" class="method-signature">
          <span class="method-name">log</span><span class="method-args">(action, *args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
&#8216;Log&#8217; an <em>action</em> to the terminal. This is typically
used for verbose output regarding actions performed. For example:
</p>
<pre>
  create  path/to/file.rb
  remove  path/to/old_file.rb
  remove  path/to/old_file2.rb
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000307-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000307-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 55</span>
55:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span> <span class="ruby-identifier">action</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
56:       <span class="ruby-identifier">say</span> <span class="ruby-value str">'%15s  %s'</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">action</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)]
57:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000318" class="method-detail">
        <a name="M000318"></a>

        <div class="method-heading">
          <a href="#M000318" class="method-signature">
          <span class="method-name">log</span><span class="method-args">(action, *args)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
&#8216;Log&#8217; an <em>action</em> to the terminal. This is typically
used for verbose output regarding actions performed. For example:
</p>
<pre>
  create  path/to/file.rb
  remove  path/to/old_file.rb
  remove  path/to/old_file2.rb
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000318-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000318-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 55</span>
55:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">log</span> <span class="ruby-identifier">action</span>, <span class="ruby-operator">*</span><span class="ruby-identifier">args</span>
56:       <span class="ruby-identifier">say</span> <span class="ruby-value str">'%15s  %s'</span> <span class="ruby-operator">%</span> [<span class="ruby-identifier">action</span>, <span class="ruby-identifier">args</span>.<span class="ruby-identifier">join</span>(<span class="ruby-value str">' '</span>)]
57:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000305" class="method-detail">
        <a name="M000305"></a>

        <div class="method-heading">
          <a href="#M000305" class="method-signature">
          <span class="method-name">password</span><span class="method-args">(message = 'Password: ', mask = '*')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Ask the user for a <a href="UI.html#M000305">password</a>. Specify a custom
<em>message</em> other than &#8216;Password: &#8217; or override the
default <em>mask</em> of &#8217;*&#8217;.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000305-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000305-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 32</span>
32:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password</span> <span class="ruby-identifier">message</span> = <span class="ruby-value str">'Password: '</span>, <span class="ruby-identifier">mask</span> = <span class="ruby-value str">'*'</span>
33:       <span class="ruby-identifier">pass</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">message</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span> <span class="ruby-identifier">q</span>.<span class="ruby-identifier">echo</span> = <span class="ruby-identifier">mask</span> }
34:       <span class="ruby-identifier">pass</span> = <span class="ruby-identifier">password</span> <span class="ruby-identifier">message</span>, <span class="ruby-identifier">mask</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pass</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pass</span>.<span class="ruby-identifier">empty?</span>
35:       <span class="ruby-identifier">pass</span>
36:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000316" class="method-detail">
        <a name="M000316"></a>

        <div class="method-heading">
          <a href="#M000316" class="method-signature">
          <span class="method-name">password</span><span class="method-args">(message = 'Password: ', mask = '*')</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Ask the user for a <a href="UI.html#M000305">password</a>. Specify a custom
<em>message</em> other than &#8216;Password: &#8217; or override the
default <em>mask</em> of &#8217;*&#8217;.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000316-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000316-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 32</span>
32:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">password</span> <span class="ruby-identifier">message</span> = <span class="ruby-value str">'Password: '</span>, <span class="ruby-identifier">mask</span> = <span class="ruby-value str">'*'</span>
33:       <span class="ruby-identifier">pass</span> = <span class="ruby-identifier">ask</span>(<span class="ruby-identifier">message</span>) { <span class="ruby-operator">|</span><span class="ruby-identifier">q</span><span class="ruby-operator">|</span> <span class="ruby-identifier">q</span>.<span class="ruby-identifier">echo</span> = <span class="ruby-identifier">mask</span> }
34:       <span class="ruby-identifier">pass</span> = <span class="ruby-identifier">password</span> <span class="ruby-identifier">message</span>, <span class="ruby-identifier">mask</span> <span class="ruby-keyword kw">if</span> <span class="ruby-identifier">pass</span>.<span class="ruby-identifier">nil?</span> <span class="ruby-operator">||</span> <span class="ruby-identifier">pass</span>.<span class="ruby-identifier">empty?</span>
35:       <span class="ruby-identifier">pass</span>
36:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000326" class="method-detail">
        <a name="M000326"></a>

        <div class="method-heading">
          <a href="#M000326" class="method-signature">
          <span class="method-name">progress</span><span class="method-args">(arr, options = {}) {|v| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Output <a href="UI.html#M000315">progress</a> while iterating <em>arr</em>.
</p>
<h3>Examples</h3>
<pre>
  uris = %w( http://vision-media.ca http://google.com )
  progress uris, :format =&gt; &quot;Remaining: :time_remaining&quot; do |uri|
    res = open uri
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000326-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000326-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 223</span>
223:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">progress</span> <span class="ruby-identifier">arr</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
224:       <span class="ruby-identifier">bar</span> = <span class="ruby-constant">ProgressBar</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">options</span>
225:       <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">bar</span>.<span class="ruby-identifier">increment</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">v</span>) }
226:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000315" class="method-detail">
        <a name="M000315"></a>

        <div class="method-heading">
          <a href="#M000315" class="method-signature">
          <span class="method-name">progress</span><span class="method-args">(arr, options = {}) {|v| ...}</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Output <a href="UI.html#M000315">progress</a> while iterating <em>arr</em>.
</p>
<h3>Examples</h3>
<pre>
  uris = %w( http://vision-media.ca http://google.com )
  progress uris, :format =&gt; &quot;Remaining: :time_remaining&quot; do |uri|
    res = open uri
  end
</pre>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000315-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000315-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 223</span>
223:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">progress</span> <span class="ruby-identifier">arr</span>, <span class="ruby-identifier">options</span> = {}, <span class="ruby-operator">&amp;</span><span class="ruby-identifier">block</span>
224:       <span class="ruby-identifier">bar</span> = <span class="ruby-constant">ProgressBar</span>.<span class="ruby-identifier">new</span> <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">length</span>, <span class="ruby-identifier">options</span>
225:       <span class="ruby-identifier">arr</span>.<span class="ruby-identifier">each</span> { <span class="ruby-operator">|</span><span class="ruby-identifier">v</span><span class="ruby-operator">|</span> <span class="ruby-identifier">bar</span>.<span class="ruby-identifier">increment</span> <span class="ruby-keyword kw">yield</span>(<span class="ruby-identifier">v</span>) }
226:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000323" class="method-detail">
        <a name="M000323"></a>

        <div class="method-heading">
          <a href="#M000323" class="method-signature">
          <span class="method-name">reset_io</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reset IO to initial constant streams.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000323-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000323-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_io</span>
165:       <span class="ruby-identifier">$stdin</span>, <span class="ruby-identifier">$stdout</span> = <span class="ruby-constant">STDIN</span>, <span class="ruby-constant">STDOUT</span>
166:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000312" class="method-detail">
        <a name="M000312"></a>

        <div class="method-heading">
          <a href="#M000312" class="method-signature">
          <span class="method-name">reset_io</span><span class="method-args">()</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Reset IO to initial constant streams.
</p>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000312-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000312-source">
<pre>
     <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 164</span>
164:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">reset_io</span>
165:       <span class="ruby-identifier">$stdin</span>, <span class="ruby-identifier">$stdout</span> = <span class="ruby-constant">STDIN</span>, <span class="ruby-constant">STDOUT</span>
166:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000308" class="method-detail">
        <a name="M000308"></a>

        <div class="method-heading">
          <a href="#M000308" class="method-signature">
          <span class="method-name">speak</span><span class="method-args">(message, voice = :Alex)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Speak <em>message</em> using <em>voice</em> which defaults to
&#8216;Alex&#8217;, which is one of the better voices.
</p>
<h3>Examples</h3>
<pre>
  speak 'What is your favorite food? '
  food = ask 'favorite food?: '
  speak &quot;wow, I like #{food} too. We have so much alike.&quot;
</pre>
<h3>Notes</h3>
<ul>
<li>MacOS only

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000308-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000308-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 74</span>
74:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">speak</span> <span class="ruby-identifier">message</span>, <span class="ruby-identifier">voice</span> = <span class="ruby-identifier">:Alex</span>
75:       <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">applescript</span> <span class="ruby-node">&quot;say #{message.inspect} using #{voice.to_s.inspect}&quot;</span> }
76:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>

      <div id="method-M000319" class="method-detail">
        <a name="M000319"></a>

        <div class="method-heading">
          <a href="#M000319" class="method-signature">
          <span class="method-name">speak</span><span class="method-args">(message, voice = :Alex)</span>
          </a>
        </div>
      
        <div class="method-description">
          <p>
Speak <em>message</em> using <em>voice</em> which defaults to
&#8216;Alex&#8217;, which is one of the better voices.
</p>
<h3>Examples</h3>
<pre>
  speak 'What is your favorite food? '
  food = ask 'favorite food?: '
  speak &quot;wow, I like #{food} too. We have so much alike.&quot;
</pre>
<h3>Notes</h3>
<ul>
<li>MacOS only

</li>
</ul>
          <p><a class="source-toggle" href="#"
            onclick="toggleCode('M000319-source');return false;">[Source]</a></p>
          <div class="method-source-code" id="M000319-source">
<pre>
    <span class="ruby-comment cmt"># File lib/commander/user_interaction.rb, line 74</span>
74:     <span class="ruby-keyword kw">def</span> <span class="ruby-identifier">speak</span> <span class="ruby-identifier">message</span>, <span class="ruby-identifier">voice</span> = <span class="ruby-identifier">:Alex</span>
75:       <span class="ruby-constant">Thread</span>.<span class="ruby-identifier">new</span> { <span class="ruby-identifier">applescript</span> <span class="ruby-node">&quot;say #{message.inspect} using #{voice.to_s.inspect}&quot;</span> }
76:     <span class="ruby-keyword kw">end</span>
</pre>
          </div>
        </div>
      </div>


    </div>


  </div>


<div id="validator-badges">
  <p><small><a href="http://validator.w3.org/check/referer">[Validate]</a></small></p>
</div>

</body>
</html>